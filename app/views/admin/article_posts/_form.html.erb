<!-- TODO: replace this shit -->
<% if @article_post.new_record? %>
  <%= semantic_form_for [:admin, @article_post], url: admin_article_posts_path, html: { multipart: true } do |f| %>
  <%= f.inputs 'Основное' do %>
    <%= f.input :title %>
    <%= f.input :best, as: :select, collection: [['Да', true],['Нет', false]], include_blank: false %>
    <%= f.input :category, as: :select, collection: ArticleCategory.all, include_blank: false, input_html: { class: 'chosen_autocomplete' } %>
    <%= f.input :author, as: :select, collection: User.all, include_blank: false, input_html: { class: 'chosen_autocomplete' } %>
    <%= f.input :publication_date %>

    <%= render 'shared/editor_toolbar', element_id: 'article_biography' %>
    <%= f.input :biography, input_html: {size: 10} %>

    <%= render 'shared/editor_toolbar', element_id: 'article_short_description' %>
    <%= f.input :short_description, input_html: {size: 10} %>
    
    <%= render 'shared/editor_toolbar', element_id: 'article_content' %>
    <%= f.input :content, input_html: {size: 10} %>
    
    <%= f.input :picture, as: :file, hint: f.template.image_tag(f.object.picture.url(:medium)) %>
    <%= f.input :published %>

    <%= f.input :article_tag_list %>
    <% end %>
  <%= f.buttons %>
  <% end %>

<% else %>
  <%= semantic_form_for [:admin, @article_post], url: admin_article_post_path(@article_post), method: :put, html: { multipart: true } do |f| %>
  <%= f.inputs 'Основное' do %>
    <%= f.input :title %>

    <%= f.input :best, as: :select, collection: [['Да', true],['Нет', false]], include_blank: false %>
    <%= f.input :category, as: :select, collection: ArticleCategory.all, include_blank: false, input_html: { class: 'chosen_autocomplete' } %>
    <%= f.input :author, as: :select, collection: User.all, include_blank: false, input_html: { class: 'chosen_autocomplete' } %>
    <%= f.input :publication_date %>
    
    <%= render 'shared/editor_toolbar', element_id: 'article_biography' %>
    <%= f.input :biography, input_html: {size: 10} %>

    <%= render 'shared/editor_toolbar', element_id: 'article_short_description' %>
    <%= f.input :short_description, input_html: {size: 5} %>

    <%= render 'shared/editor_toolbar', element_id: 'article_content' %>
    <%= f.input :content, input_html: {size: 10} %>
    
    <%= f.input :picture, as: :file, hint: f.template.image_tag(f.object.picture.url(:medium)) %>
    <%= f.input :published %>

    <%= f.input :article_tag_list %>
    <% end %>
  <%= f.buttons %>
  <% end %>
<% end %>
